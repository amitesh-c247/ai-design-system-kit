@use "@/assets/scss/variables" as *;

.notionEditor {
  font-family: $font-family-base;
  position: relative;
}

.editorContent {
  border: 1px solid $border-color;
  border-radius: map-get($border-radii, lg);
  background-color: $body-bg;
  transition: border-color 0.2s ease;

  &:focus-within {
    border-color: $primary;
    box-shadow: 0 0 0 3px rgba($primary, 0.1);
  }

  &.invalid {
    border-color: $danger;

    &:focus-within {
      box-shadow: 0 0 0 3px rgba($danger, 0.1);
    }
  }
}

.editorError {
  color: $danger;
  font-size: map-get($font-sizes, sm);
  margin-top: map-get($spacers, 2);
}

.editorContent :global(.ProseMirror) {
  padding: map-get($spacers, 6);
  outline: none;
  font-size: map-get($font-sizes, md);
  line-height: 1.6;
  color: map-get($grays, 700);
  white-space: pre-wrap;
}

.editorContent :global(.ProseMirror) p {
  margin: map-get($spacers, 3) 0;

  &:first-child {
    margin-top: 0;
  }
  &:last-child {
    margin-bottom: 0;
  }
}

.editorContent :global(.ProseMirror) p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  color: map-get($grays, 400);
  pointer-events: none;
}

.editorContent :global(.ProseMirror) h1 {
  font-size: 2rem;
  font-weight: map-get($font-weights, bold);
  margin: map-get($spacers, 6) 0 map-get($spacers, 4);
  color: map-get($grays, 900);
}

.editorContent :global(.ProseMirror) h2 {
  font-size: 1.5rem;
  font-weight: map-get($font-weights, semibold);
  margin: map-get($spacers, 5) 0 map-get($spacers, 3);
}

.editorContent :global(.ProseMirror) h3 {
  font-size: 1.25rem;
  font-weight: map-get($font-weights, semibold);
  margin: map-get($spacers, 4) 0 map-get($spacers, 2);
}

.editorContent :global(.ProseMirror) blockquote {
  border-left: 4px solid $border-color;
  padding-left: map-get($spacers, 4);
  margin: map-get($spacers, 4) 0;
  font-style: italic;
  color: map-get($grays, 600);
}

.editorContent :global(.ProseMirror) code {
  background: map-get($grays, 100);
  padding: 0.125rem 0.25rem;
  border-radius: map-get($border-radii, sm);
  font-family: $font-family-monospace;
  font-size: 0.875em;
  color: $danger;
}

.editorContent :global(.ProseMirror) pre {
  background: map-get($grays, 50);
  border: 1px solid $border-color;
  border-radius: map-get($border-radii, lg);
  padding: map-get($spacers, 4);
  margin: map-get($spacers, 4) 0;
  overflow-x: auto;

  code {
    background: none;
    padding: 0;
    color: map-get($grays, 700);
  }
}

.editorContent :global(.ProseMirror) ul,
.editorContent :global(.ProseMirror) ol {
  padding-left: map-get($spacers, 6);
  margin: map-get($spacers, 3) 0;
}

.editorContent :global(.ProseMirror) a {
  color: $primary;
  text-decoration: underline;
  text-underline-offset: 2px;

  &:hover {
    color: darken($primary, 5%);
  }
  &:visited {
    color: map-get($theme-colors, purple);
  }
}

.editorContent :global(.ProseMirror) hr {
  border-top: 1px solid $border-color;
  margin: map-get($spacers, 8) 0;
}

.editorContent :global(.ProseMirror) ::selection {
  background: rgba($primary, 0.2);
}

.bubbleMenu {
  background: $body-bg;
  border: 1px solid $border-color;
  border-radius: map-get($border-radii, lg);
  box-shadow: $box-shadow-lg;
  padding: map-get($spacers, 2);
  z-index: $zindex-dropdown;
}

.bubbleMenuBtn {
  width: 32px;
  height: 32px;
  border-radius: map-get($border-radii, sm);
  color: map-get($grays, 600);
  background: transparent;

  &:hover {
    background: map-get($grays, 100);
    color: map-get($grays, 700);
  }

  &.active {
    background: $primary;
    color: $white;
  }
}

.commandMenu,
.blockActionsMenu {
  background: $body-bg;
  border: 1px solid $border-color;
  border-radius: map-get($border-radii, lg);
  box-shadow: $box-shadow-lg;
  z-index: $zindex-modal;
}

.commandMenuItem,
.blockActionItem {
  border-radius: map-get($border-radii, md);
  color: map-get($grays, 700);

  &:hover {
    background: map-get($grays, 100);
  }
}
